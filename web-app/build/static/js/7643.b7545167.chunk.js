"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[7643],{87643:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var n=t(65043),i=t(73216),a=t(89923),l=t(22166),c=t(99161),r=t(77938),d=t(72237),o=t(64159),u=t(39947),b=t(21383),h=t(6681),_=t(48793),x=t(56629),T=t(53518),j=t(70579);const p=(0,d.A)(n.lazy((()=>t.e(3851).then(t.bind(t,3851))))),C=(0,d.A)(n.lazy((()=>t.e(9965).then(t.bind(t,19965))))),O=(0,d.A)(n.lazy((()=>t.e(6065).then(t.bind(t,76065))))),S=(0,d.A)(n.lazy((()=>t.e(12).then(t.bind(t,40012))))),m=(0,d.A)(n.lazy((()=>t.e(8010).then(t.bind(t,78010))))),E=(0,d.A)(n.lazy((()=>t.e(2689).then(t.bind(t,62689))))),f=()=>{var e;const s=(0,b.jL)(),t=(0,i.Zp)(),d=(0,i.g)(),f=(0,i.zy)(),I=(0,l.d4)(o.Rq),A=(0,l.d4)(u.Nx),k=(0,l.d4)(u.fT),N=(0,l.d4)(o.nM),[g,y]=(0,n.useState)(!1),[U,V]=(0,n.useState)(!1),v=d.bucketName||"",B=(0,r._)(v,c.Sg),R=(0,r._)(v,c.Nt);(0,n.useEffect)((()=>{s((0,o.ph)("bucket_details"))}),[]),(0,n.useEffect)((()=>{g||(s((0,u.ZU)(!0)),y(!0))}),[g,s,y]),(0,n.useEffect)((()=>{A&&x.F.buckets.bucketInfo(v).then((e=>{s((0,u.ZU)(!1)),s((0,u.$T)(e.data))})).catch((e=>{s((0,u.ZU)(!1)),s((0,o.C9)((0,T.S)(e)))}))}),[v,A,s]);let w=`/buckets/${v}`;const L={events:"/admin/events",replication:"/admin/replication",access:"/admin/access",prefix:"/admin/prefix"},G=e=>{let s=L[e];return s=s?`${w}${s}`:`${w}/admin/summary`,s};return(0,j.jsxs)(n.Fragment,{children:[U&&(0,j.jsx)(p,{deleteOpen:U,selectedBucket:v,closeDeleteModalAndRefresh:e=>{(e=>{V(!1),e&&t("/buckets")})(e)}}),(0,j.jsx)(_.A,{label:(0,j.jsx)(a.EGL,{label:"Buckets",onClick:()=>t("/buckets")}),actions:(0,j.jsx)(n.Fragment,{children:(0,j.jsx)(h.A,{tooltip:R?"Browse Bucket":(0,c.vj)(c.pC[c.ac.BUCKET_VIEWER],"browsing this bucket"),children:(0,j.jsx)(a.$nd,{id:"switch-browse-view","aria-label":"Browse Bucket",onClick:()=>{t(`/browser/${v}`)},icon:(0,j.jsx)(a.sjq,{style:{width:20,height:20,marginTop:-3}}),style:{padding:"0 10px"},disabled:!R})})})}),(0,j.jsxs)(a.Mxu,{children:[(0,j.jsx)(a.lcx,{icon:(0,j.jsx)(n.Fragment,{children:(0,j.jsx)(a.brV,{width:40})}),title:v,subTitle:(0,j.jsxs)(r.R,{scopes:[c.OV.S3_GET_BUCKET_POLICY,c.OV.S3_GET_ACTIONS],resource:v,children:[(0,j.jsx)("span",{style:{fontSize:15},children:"Access: "}),(0,j.jsx)("span",{style:{fontWeight:600,fontSize:15,textTransform:"capitalize"},children:null===k||void 0===k||null===(e=k.access)||void 0===e?void 0:e.toLowerCase()})]}),actions:(0,j.jsxs)(n.Fragment,{children:[(0,j.jsx)(r.R,{scopes:c.Sg,resource:v,errorProps:{disabled:!0},children:(0,j.jsx)(h.A,{tooltip:B?"":(0,c.vj)([c.OV.S3_DELETE_BUCKET,c.OV.S3_FORCE_DELETE_BUCKET],"deleting this bucket"),children:(0,j.jsx)(a.$nd,{id:"delete-bucket-button",onClick:()=>{V(!0)},label:"Delete Bucket",icon:(0,j.jsx)(a.ucK,{}),variant:"secondary",disabled:!B})})}),(0,j.jsx)(a.$nd,{id:"refresh-bucket-info",onClick:()=>{s((0,u.ZU)(!0))},label:"Refresh",icon:(0,j.jsx)(a.fNY,{})})]}),sx:{marginBottom:15}}),(0,j.jsx)(a.azJ,{children:(0,j.jsx)(a.tUM,{currentTabOrPath:f.pathname,useRouteTabs:!0,onTabClick:e=>{t(e)},options:[{tabConfig:{label:"Summary",id:"summary",to:G("summary")}},{tabConfig:{label:"Events",id:"events",disabled:!(0,r._)(v,[c.OV.S3_GET_BUCKET_NOTIFICATIONS,c.OV.S3_PUT_BUCKET_NOTIFICATIONS,c.OV.S3_GET_ACTIONS,c.OV.S3_PUT_ACTIONS]),to:G("events")}},{tabConfig:{label:"Replication",id:"replication",disabled:!I||N.enabled&&N.curSite||!(0,r._)(v,[c.OV.S3_GET_REPLICATION_CONFIGURATION,c.OV.S3_PUT_REPLICATION_CONFIGURATION,c.OV.S3_GET_ACTIONS,c.OV.S3_PUT_ACTIONS]),to:G("replication")}},{tabConfig:{label:"Access",id:"access",disabled:!(0,r._)(v,[c.OV.ADMIN_GET_POLICY,c.OV.ADMIN_LIST_USER_POLICIES,c.OV.ADMIN_LIST_USERS]),to:G("access")}},{tabConfig:{label:"Anonymous",id:"anonymous",disabled:!(0,r._)(v,[c.OV.S3_GET_BUCKET_POLICY,c.OV.S3_GET_ACTIONS]),to:G("prefix")}}],routes:(0,j.jsxs)(i.BV,{children:[(0,j.jsx)(i.qh,{path:"summary",element:(0,j.jsx)(S,{})}),(0,j.jsx)(i.qh,{path:"events",element:(0,j.jsx)(m,{})}),I&&(0,j.jsx)(i.qh,{path:"replication",element:(0,j.jsx)(E,{})}),(0,j.jsx)(i.qh,{path:"access",element:(0,j.jsx)(O,{})}),(0,j.jsx)(i.qh,{path:"prefix",element:(0,j.jsx)(C,{})}),(0,j.jsx)(i.qh,{path:"*",element:(0,j.jsx)(i.C5,{to:`/buckets/${v}/admin/summary`})})]})})})]})]})}},72237:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(65043),i=t(70579);const a=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t){return(0,i.jsx)(n.Suspense,{fallback:s,children:(0,i.jsx)(e,{...t})})}}}}]);
//# sourceMappingURL=7643.b7545167.chunk.js.map